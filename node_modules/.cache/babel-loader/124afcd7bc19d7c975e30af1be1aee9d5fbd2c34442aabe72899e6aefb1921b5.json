{"ast":null,"code":"import React,{useState,useEffect}from'react';import*as XLSX from'xlsx';import{Link}from'react-router-dom';import{supabase}from'../config/supabase';import'./Squads.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Squads=()=>{const[teams,setTeams]=useState([]);const[editMode,setEditMode]=useState(false);const[adminPrompt,setAdminPrompt]=useState(false);const[adminId,setAdminId]=useState('');const[adminPass,setAdminPass]=useState('');const[adminError,setAdminError]=useState('');const[selectedTeam,setSelectedTeam]=useState('');const[selectedTournament,setSelectedTournament]=useState(null);const[availableTournaments,setAvailableTournaments]=useState([]);const[loading,setLoading]=useState(false);// Handle editing player name\nconst handlePlayerNameChange=(teamIdx,playerIdx,value)=>{setTeams(prevTeams=>{const newTeams=JSON.parse(JSON.stringify(prevTeams));newTeams[teamIdx].players[playerIdx].name=value;return newTeams;});};// Admin credentials (hardcoded for now)\nconst ADMIN_ID='admin';const ADMIN_PASS='spl2025';// Download squad data as Excel\nconst handleDownloadExcel=()=>{var _selectedTournament$n;if(!teams.length)return;const wb=XLSX.utils.book_new();// Create a consolidated sheet with all teams\nconst allPlayersData=[];teams.forEach(team=>{if(team.players&&team.players.length>0){team.players.forEach(player=>{var _team$budget;allPlayersData.push([player.name||'',player.soldPrice||player.basePrice||0,team.name||'',player.role||'',player.auctionName||'',`₹${((_team$budget=team.budget)===null||_team$budget===void 0?void 0:_team$budget.toLocaleString())||0} left`]);});}});const consolidatedWs=XLSX.utils.aoa_to_sheet([['Player Name','Sold Amount','Team','Role','Auction Name','Team Budget Remaining'],...allPlayersData]);XLSX.utils.book_append_sheet(wb,consolidatedWs,'All Teams');// Create individual sheets for each team\nteams.forEach(team=>{if(team.players&&team.players.length>0){const data=team.players.map(player=>[player.name||'',player.soldPrice||player.basePrice||0,team.name||'',player.role||'',player.auctionName||'']);const ws=XLSX.utils.aoa_to_sheet([['Player Name','Sold Amount','Team','Role','Auction Name'],...data]);XLSX.utils.book_append_sheet(wb,ws,team.name.substring(0,31));}});const fileName=`Squads_${(selectedTournament===null||selectedTournament===void 0?void 0:(_selectedTournament$n=selectedTournament.name)===null||_selectedTournament$n===void 0?void 0:_selectedTournament$n.replace(/[^a-zA-Z0-9]/g,'_'))||'Tournament'}_${new Date().toISOString().split('T')[0]}.xlsx`;XLSX.writeFile(wb,fileName);};// Handle editing player price\nconst handlePlayerPriceChange=(teamIdx,playerIdx,value)=>{setTeams(prevTeams=>{const newTeams=JSON.parse(JSON.stringify(prevTeams));const price=parseInt(value)||0;newTeams[teamIdx].players[playerIdx].soldPrice=price;return newTeams;});};// Save edited data to Supabase\nconst handleSaveEdits=async()=>{if(!selectedTournament)return;setLoading(true);try{// Update each team's budget\nfor(const team of teams){await supabase.from('teams').update({remaining_budget:team.budget}).eq('id',team.id);}setEditMode(false);alert('Squad data updated!');}catch(error){console.error('Error saving data:',error);alert('Error saving data: '+error.message);}finally{setLoading(false);}};// Fetch tournaments from Supabase\nconst fetchTournaments=async()=>{try{const{data,error}=await supabase.from('tournaments').select('*').order('created_at',{ascending:false});if(error)throw error;setAvailableTournaments(data||[]);}catch(error){console.error('Error fetching tournaments:',error);}};// Fetch squad data for selected tournament\nconst fetchSquadData=async tournamentId=>{setLoading(true);try{// Fetch teams for the tournament\nconst{data:teamsData,error:teamsError}=await supabase.from('teams').select('*').eq('tournament_id',tournamentId).order('name');if(teamsError)throw teamsError;// Fetch auction data (sold players) from auctions table\nconst{data:auctionData,error:auctionError}=await supabase.from('auctions').select(`\n          *,\n          player_registrations (\n            id,\n            name,\n            cricket_role,\n            base_price\n          ),\n          teams (\n            id,\n            name\n          )\n        `).eq('status','sold').in('team_id',teamsData.map(t=>t.id));if(auctionError)throw auctionError;// Group players by team and auction name\nconst teamsWithPlayers=teamsData.map(team=>{const teamPlayers=auctionData.filter(auction=>auction.team_id===team.id).map(auction=>{var _auction$player_regis,_auction$player_regis2,_auction$player_regis3;return{name:((_auction$player_regis=auction.player_registrations)===null||_auction$player_regis===void 0?void 0:_auction$player_regis.name)||auction.player_name,role:((_auction$player_regis2=auction.player_registrations)===null||_auction$player_regis2===void 0?void 0:_auction$player_regis2.cricket_role)||auction.player_role,basePrice:auction.base_price||((_auction$player_regis3=auction.player_registrations)===null||_auction$player_regis3===void 0?void 0:_auction$player_regis3.base_price),soldPrice:auction.sold_price||auction.final_bid,playerId:auction.player_id,auctionName:auction.auction_name};});return{id:team.id,name:team.name,budget:team.remaining_budget||team.current_budget,totalBudget:team.current_budget,players:teamPlayers,owner:team.owner_name,color:team.team_color};});setTeams(teamsWithPlayers);}catch(error){console.error('Error fetching squad data:',error);alert('Error loading squad data: '+error.message);}finally{setLoading(false);}};useEffect(()=>{// Fetch tournaments from Supabase\nfetchTournaments();},[]);const handleViewSquad=async tournament=>{setSelectedTournament(tournament);await fetchSquadData(tournament.id);};const handleDeleteTournament=async tournament=>{if(window.confirm(`Delete tournament \"${tournament.name}\"? This will also delete all associated teams and data.`)){try{setLoading(true);const{error}=await supabase.from('tournaments').delete().eq('id',tournament.id);if(error)throw error;// Refresh tournaments list\nawait fetchTournaments();if(selectedTournament&&selectedTournament.id===tournament.id){setSelectedTournament(null);setTeams([]);}alert('Tournament deleted successfully!');}catch(error){console.error('Error deleting tournament:',error);alert('Error deleting tournament: '+error.message);}finally{setLoading(false);}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"squads\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"squads-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Team Squads\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn-back\",children:\"Back to Home\"})]}),!selectedTournament&&/*#__PURE__*/_jsxs(\"div\",{className:\"tournament-list\",style:{maxWidth:600,margin:'2em auto'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Available Tournaments\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading tournaments...\"}):availableTournaments.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No tournaments found. Create a tournament first.\"}):/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'300px',overflowY:'auto',marginBottom:'1em'},children:availableTournaments.map(tournament=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',marginBottom:10,border:'1px solid #eee',borderRadius:6,padding:10},children:[/*#__PURE__*/_jsxs(\"span\",{style:{flex:1,fontWeight:500},children:[tournament.name,/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.9em',color:'#666'},children:[tournament.description,\" | Status: \",tournament.status]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.8em',color:'#888'},children:[\"Created: \",new Date(tournament.created_at).toLocaleDateString()]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",style:{marginRight:8},onClick:()=>handleViewSquad(tournament),disabled:loading,children:\"View Squad\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-danger\",style:{fontSize:'0.9em',padding:'2px 8px'},onClick:()=>handleDeleteTournament(tournament),disabled:loading,children:\"Delete\"})]},tournament.id))})]}),selectedTournament&&/*#__PURE__*/_jsxs(\"div\",{className:\"squads-content\",style:{maxWidth:1200,margin:'2em auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',marginBottom:20},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{flex:1},children:[\"Squads for: \",selectedTournament.name]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>{setSelectedTournament(null);setTeams([]);setSelectedTeam('');},children:\"Back to Tournaments\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'2em'},children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading squad data...\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:12,marginBottom:16},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:handleDownloadExcel,disabled:!teams.length,children:\"Download Excel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>{if(!editMode)setAdminPrompt(true);else setEditMode(false);},disabled:!teams.length,children:editMode?'Cancel Edit':'Edit Data'}),editMode&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-success\",onClick:handleSaveEdits,disabled:loading,children:loading?'Saving...':'Save Changes'})]}),adminPrompt&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',left:0,top:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.25)',zIndex:1000,display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:8,padding:32,minWidth:320,boxShadow:'0 2px 16px #0002'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:16},children:\"Admin Login Required\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:500},children:\"Admin ID:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:adminId,onChange:e=>setAdminId(e.target.value),style:{width:'100%',padding:6,marginTop:2},autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:500},children:\"Password:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:adminPass,onChange:e=>setAdminPass(e.target.value),style:{width:'100%',padding:6,marginTop:2}})]}),adminError&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',marginBottom:10},children:adminError}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:10,justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:()=>{setAdminPrompt(false);setAdminId('');setAdminPass('');setAdminError('');},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:()=>{if(adminId===ADMIN_ID&&adminPass===ADMIN_PASS){setEditMode(true);setAdminPrompt(false);setAdminId('');setAdminPass('');setAdminError('');}else{setAdminError('Invalid admin ID or password');}},children:\"Login\"})]})]})}),teams.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:18},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"teamSelect\",style:{marginRight:8,fontWeight:500},children:\"Choose Team:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"teamSelect\",value:selectedTeam,onChange:e=>setSelectedTeam(e.target.value),style:{minWidth:180,marginRight:10},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- All Teams --\"}),teams.map((team,idx)=>/*#__PURE__*/_jsx(\"option\",{value:team.name,children:team.name},team.id||idx))]}),selectedTeam&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",style:{padding:'2px 10px',fontSize:'0.95em'},onClick:()=>setSelectedTeam(''),children:\"Clear\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"teams-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-hover table-striped bg-white\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-dark\",children:/*#__PURE__*/_jsx(\"tr\",{children:teams.filter(team=>!selectedTeam||team.name===selectedTeam).map((team,idx,arr)=>{var _team$budget2;return/*#__PURE__*/_jsxs(\"th\",{style:{borderRight:idx!==arr.length-1?'3px solid #333':undefined,borderLeft:idx===0?'3px solid #333':undefined,textAlign:'center'},children:[team.name,/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:400,fontSize:'0.95em'},children:[\"\\u20B9\",((_team$budget2=team.budget)===null||_team$budget2===void 0?void 0:_team$budget2.toLocaleString())||0,\" left\"]})]},team.id||idx);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:(()=>{// Get filtered teams\nconst filteredTeams=teams.filter(team=>!selectedTeam||team.name===selectedTeam);if(filteredTeams.length===0){return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:1,style:{textAlign:'center',color:'#888'},children:\"No teams\"})});}// Find max players in any team\nconst maxPlayers=Math.max(...filteredTeams.map(t=>t.players?t.players.length:0),0);if(maxPlayers===0){return/*#__PURE__*/_jsx(\"tr\",{children:filteredTeams.map((team,idx)=>/*#__PURE__*/_jsx(\"td\",{style:{color:'#888',textAlign:'center'},children:\"No players sold\"},team.id||idx))});}// Render rows for each player index\nreturn Array.from({length:maxPlayers}).map((_,rowIdx)=>/*#__PURE__*/_jsx(\"tr\",{children:filteredTeams.map((team,teamIdx,arr)=>{var _ref,_player$soldPrice,_player$soldPrice2,_player$soldPrice2$to,_player$basePrice,_player$basePrice$toL;const player=team.players&&team.players[rowIdx];const borderStyle={borderRight:teamIdx!==arr.length-1?'3px solid #333':undefined,borderLeft:teamIdx===0?'3px solid #333':undefined,textAlign:'center'};if(!player)return/*#__PURE__*/_jsx(\"td\",{style:borderStyle},team.id+'_'+rowIdx);return/*#__PURE__*/_jsx(\"td\",{style:borderStyle,children:editMode?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:player.name,onChange:e=>handlePlayerNameChange(teams.indexOf(team),rowIdx,e.target.value),style:{width:120,padding:'2px 4px',marginBottom:4}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",value:(_ref=(_player$soldPrice=player.soldPrice)!==null&&_player$soldPrice!==void 0?_player$soldPrice:player.basePrice)!==null&&_ref!==void 0?_ref:'',onChange:e=>handlePlayerPriceChange(teams.indexOf(team),rowIdx,e.target.value),style:{width:90,padding:'2px 4px'}})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:500},children:player.name}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#444',fontSize:'0.9em'},children:player.role&&/*#__PURE__*/_jsxs(\"span\",{style:{color:'#666'},children:[\"(\",player.role,\")\"]})}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#444'},children:[\"\\u20B9\",((_player$soldPrice2=player.soldPrice)===null||_player$soldPrice2===void 0?void 0:(_player$soldPrice2$to=_player$soldPrice2.toLocaleString)===null||_player$soldPrice2$to===void 0?void 0:_player$soldPrice2$to.call(_player$soldPrice2))||((_player$basePrice=player.basePrice)===null||_player$basePrice===void 0?void 0:(_player$basePrice$toL=_player$basePrice.toLocaleString)===null||_player$basePrice$toL===void 0?void 0:_player$basePrice$toL.call(_player$basePrice))||'']})]})},team.id+'_'+rowIdx);})},rowIdx));})()})]})})]}),teams.length===0&&!loading&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'2em',color:'#666'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"No teams found for this tournament.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Make sure you have created teams and conducted an auction for this tournament.\"})]})]})]})]});};export default Squads;","map":{"version":3,"names":["React","useState","useEffect","XLSX","Link","supabase","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Squads","teams","setTeams","editMode","setEditMode","adminPrompt","setAdminPrompt","adminId","setAdminId","adminPass","setAdminPass","adminError","setAdminError","selectedTeam","setSelectedTeam","selectedTournament","setSelectedTournament","availableTournaments","setAvailableTournaments","loading","setLoading","handlePlayerNameChange","teamIdx","playerIdx","value","prevTeams","newTeams","JSON","parse","stringify","players","name","ADMIN_ID","ADMIN_PASS","handleDownloadExcel","_selectedTournament$n","length","wb","utils","book_new","allPlayersData","forEach","team","player","_team$budget","push","soldPrice","basePrice","role","auctionName","budget","toLocaleString","consolidatedWs","aoa_to_sheet","book_append_sheet","data","map","ws","substring","fileName","replace","Date","toISOString","split","writeFile","handlePlayerPriceChange","price","parseInt","handleSaveEdits","from","update","remaining_budget","eq","id","alert","error","console","message","fetchTournaments","select","order","ascending","fetchSquadData","tournamentId","teamsData","teamsError","auctionData","auctionError","in","t","teamsWithPlayers","teamPlayers","filter","auction","team_id","_auction$player_regis","_auction$player_regis2","_auction$player_regis3","player_registrations","player_name","cricket_role","player_role","base_price","sold_price","final_bid","playerId","player_id","auction_name","current_budget","totalBudget","owner","owner_name","color","team_color","handleViewSquad","tournament","handleDeleteTournament","window","confirm","delete","className","children","to","style","maxWidth","margin","maxHeight","overflowY","marginBottom","display","alignItems","border","borderRadius","padding","flex","fontWeight","fontSize","description","status","created_at","toLocaleDateString","marginRight","onClick","disabled","textAlign","gap","position","left","top","width","height","background","zIndex","justifyContent","minWidth","boxShadow","type","onChange","e","target","marginTop","autoFocus","htmlFor","idx","arr","_team$budget2","borderRight","undefined","borderLeft","filteredTeams","colSpan","maxPlayers","Math","max","Array","_","rowIdx","_ref","_player$soldPrice","_player$soldPrice2","_player$soldPrice2$to","_player$basePrice","_player$basePrice$toL","borderStyle","indexOf","min","call"],"sources":["C:/Users/91983/OneDrive/Desktop/THIS PC/jeet/sankalp/spl/splfinall/src/components/Squads.js"],"sourcesContent":["\n\nimport React, { useState, useEffect } from 'react';\nimport * as XLSX from 'xlsx';\nimport { Link } from 'react-router-dom';\nimport { supabase } from '../config/supabase';\nimport './Squads.css';\n\n\nconst Squads = () => {\n  const [teams, setTeams] = useState([]);\n  const [editMode, setEditMode] = useState(false);\n  const [adminPrompt, setAdminPrompt] = useState(false);\n  const [adminId, setAdminId] = useState('');\n  const [adminPass, setAdminPass] = useState('');\n  const [adminError, setAdminError] = useState('');\n  const [selectedTeam, setSelectedTeam] = useState('');\n  const [selectedTournament, setSelectedTournament] = useState(null);\n  const [availableTournaments, setAvailableTournaments] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // Handle editing player name\n  const handlePlayerNameChange = (teamIdx, playerIdx, value) => {\n    setTeams(prevTeams => {\n      const newTeams = JSON.parse(JSON.stringify(prevTeams));\n      newTeams[teamIdx].players[playerIdx].name = value;\n      return newTeams;\n    });\n  };\n  // Admin credentials (hardcoded for now)\n  const ADMIN_ID = 'admin';\n  const ADMIN_PASS = 'spl2025';\n\n  // Download squad data as Excel\n  const handleDownloadExcel = () => {\n    if (!teams.length) return;\n    const wb = XLSX.utils.book_new();\n    \n    // Create a consolidated sheet with all teams\n    const allPlayersData = [];\n    teams.forEach(team => {\n      if (team.players && team.players.length > 0) {\n        team.players.forEach(player => {\n          allPlayersData.push([\n            player.name || '',\n            player.soldPrice || player.basePrice || 0,\n            team.name || '',\n            player.role || '',\n            player.auctionName || '',\n            `₹${team.budget?.toLocaleString() || 0} left`\n          ]);\n        });\n      }\n    });\n    \n    const consolidatedWs = XLSX.utils.aoa_to_sheet([\n      ['Player Name', 'Sold Amount', 'Team', 'Role', 'Auction Name', 'Team Budget Remaining'],\n      ...allPlayersData\n    ]);\n    XLSX.utils.book_append_sheet(wb, consolidatedWs, 'All Teams');\n    \n    // Create individual sheets for each team\n    teams.forEach(team => {\n      if (team.players && team.players.length > 0) {\n        const data = team.players.map(player => [\n          player.name || '',\n          player.soldPrice || player.basePrice || 0,\n          team.name || '',\n          player.role || '',\n          player.auctionName || ''\n        ]);\n        const ws = XLSX.utils.aoa_to_sheet([\n          ['Player Name', 'Sold Amount', 'Team', 'Role', 'Auction Name'],\n          ...data\n        ]);\n        XLSX.utils.book_append_sheet(wb, ws, team.name.substring(0, 31));\n      }\n    });\n    \n    const fileName = `Squads_${selectedTournament?.name?.replace(/[^a-zA-Z0-9]/g, '_') || 'Tournament'}_${new Date().toISOString().split('T')[0]}.xlsx`;\n    XLSX.writeFile(wb, fileName);\n  };\n\n  // Handle editing player price\n  const handlePlayerPriceChange = (teamIdx, playerIdx, value) => {\n    setTeams(prevTeams => {\n      const newTeams = JSON.parse(JSON.stringify(prevTeams));\n      const price = parseInt(value) || 0;\n      newTeams[teamIdx].players[playerIdx].soldPrice = price;\n      return newTeams;\n    });\n  };\n\n  // Save edited data to Supabase\n  const handleSaveEdits = async () => {\n    if (!selectedTournament) return;\n    \n    setLoading(true);\n    try {\n      // Update each team's budget\n      for (const team of teams) {\n        await supabase\n          .from('teams')\n          .update({ remaining_budget: team.budget })\n          .eq('id', team.id);\n      }\n      \n      setEditMode(false);\n      alert('Squad data updated!');\n    } catch (error) {\n      console.error('Error saving data:', error);\n      alert('Error saving data: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  // Fetch tournaments from Supabase\n  const fetchTournaments = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('tournaments')\n        .select('*')\n        .order('created_at', { ascending: false });\n      \n      if (error) throw error;\n      setAvailableTournaments(data || []);\n    } catch (error) {\n      console.error('Error fetching tournaments:', error);\n    }\n  };\n\n  // Fetch squad data for selected tournament\n  const fetchSquadData = async (tournamentId) => {\n    setLoading(true);\n    try {\n      // Fetch teams for the tournament\n      const { data: teamsData, error: teamsError } = await supabase\n        .from('teams')\n        .select('*')\n        .eq('tournament_id', tournamentId)\n        .order('name');\n      \n      if (teamsError) throw teamsError;\n\n      // Fetch auction data (sold players) from auctions table\n      const { data: auctionData, error: auctionError } = await supabase\n        .from('auctions')\n        .select(`\n          *,\n          player_registrations (\n            id,\n            name,\n            cricket_role,\n            base_price\n          ),\n          teams (\n            id,\n            name\n          )\n        `)\n        .eq('status', 'sold')\n        .in('team_id', teamsData.map(t => t.id));\n      \n      if (auctionError) throw auctionError;\n\n      // Group players by team and auction name\n      const teamsWithPlayers = teamsData.map(team => {\n        const teamPlayers = auctionData\n          .filter(auction => auction.team_id === team.id)\n          .map(auction => ({\n            name: auction.player_registrations?.name || auction.player_name,\n            role: auction.player_registrations?.cricket_role || auction.player_role,\n            basePrice: auction.base_price || auction.player_registrations?.base_price,\n            soldPrice: auction.sold_price || auction.final_bid,\n            playerId: auction.player_id,\n            auctionName: auction.auction_name\n          }));\n\n        return {\n          id: team.id,\n          name: team.name,\n          budget: team.remaining_budget || team.current_budget,\n          totalBudget: team.current_budget,\n          players: teamPlayers,\n          owner: team.owner_name,\n          color: team.team_color\n        };\n      });\n\n      setTeams(teamsWithPlayers);\n    } catch (error) {\n      console.error('Error fetching squad data:', error);\n      alert('Error loading squad data: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    // Fetch tournaments from Supabase\n    fetchTournaments();\n  }, []);\n\n  const handleViewSquad = async (tournament) => {\n    setSelectedTournament(tournament);\n    await fetchSquadData(tournament.id);\n  };\n\n  const handleDeleteTournament = async (tournament) => {\n    if (window.confirm(`Delete tournament \"${tournament.name}\"? This will also delete all associated teams and data.`)) {\n      try {\n        setLoading(true);\n        const { error } = await supabase\n          .from('tournaments')\n          .delete()\n          .eq('id', tournament.id);\n        \n        if (error) throw error;\n        \n        // Refresh tournaments list\n        await fetchTournaments();\n        \n        if (selectedTournament && selectedTournament.id === tournament.id) {\n          setSelectedTournament(null);\n          setTeams([]);\n        }\n        \n        alert('Tournament deleted successfully!');\n      } catch (error) {\n        console.error('Error deleting tournament:', error);\n        alert('Error deleting tournament: ' + error.message);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n\n\n  return (\n    <div className=\"squads\">\n      <div className=\"squads-header\">\n        <h1>Team Squads</h1>\n        <Link to=\"/\" className=\"btn-back\">Back to Home</Link>\n      </div>\n\n      {/* Tournament List */}\n      {!selectedTournament && (\n        <div className=\"tournament-list\" style={{ maxWidth: 600, margin: '2em auto' }}>\n          <h3>Available Tournaments</h3>\n          {loading ? (\n            <p>Loading tournaments...</p>\n          ) : availableTournaments.length === 0 ? (\n            <p>No tournaments found. Create a tournament first.</p>\n          ) : (\n            <div style={{ maxHeight: '300px', overflowY: 'auto', marginBottom: '1em' }}>\n              {availableTournaments.map(tournament => (\n                <div key={tournament.id} style={{ display: 'flex', alignItems: 'center', marginBottom: 10, border: '1px solid #eee', borderRadius: 6, padding: 10 }}>\n                  <span style={{ flex: 1, fontWeight: 500 }}>\n                    {tournament.name} \n                    <div style={{ fontSize: '0.9em', color: '#666' }}>\n                      {tournament.description} | Status: {tournament.status}\n                    </div>\n                    <div style={{ fontSize: '0.8em', color: '#888' }}>\n                      Created: {new Date(tournament.created_at).toLocaleDateString()}\n                    </div>\n                  </span>\n                  <button\n                    className=\"btn-primary\"\n                    style={{ marginRight: 8 }}\n                    onClick={() => handleViewSquad(tournament)}\n                    disabled={loading}\n                  >\n                    View Squad\n                  </button>\n                  <button\n                    className=\"btn-danger\"\n                    style={{ fontSize: '0.9em', padding: '2px 8px' }}\n                    onClick={() => handleDeleteTournament(tournament)}\n                    disabled={loading}\n                  >\n                    Delete\n                  </button>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Squad View */}\n      {selectedTournament && (\n        <div className=\"squads-content\" style={{ maxWidth: 1200, margin: '2em auto' }}>\n          <div style={{ display: 'flex', alignItems: 'center', marginBottom: 20 }}>\n            <h2 style={{ flex: 1 }}>Squads for: {selectedTournament.name}</h2>\n            <button className=\"btn-secondary\" onClick={() => { setSelectedTournament(null); setTeams([]); setSelectedTeam(''); }}>\n              Back to Tournaments\n            </button>\n          </div>\n          \n          {loading ? (\n            <div style={{ textAlign: 'center', padding: '2em' }}>\n              <p>Loading squad data...</p>\n            </div>\n          ) : (\n            <>\n              <div style={{ display: 'flex', gap: 12, marginBottom: 16 }}>\n                <button className=\"btn-primary\" onClick={handleDownloadExcel} disabled={!teams.length}>\n                  Download Excel\n                </button>\n                <button\n                  className=\"btn-secondary\"\n                  onClick={() => {\n                    if (!editMode) setAdminPrompt(true);\n                    else setEditMode(false);\n                  }}\n                  disabled={!teams.length}\n                >\n                  {editMode ? 'Cancel Edit' : 'Edit Data'}\n                </button>\n                {editMode && (\n                  <button className=\"btn-success\" onClick={handleSaveEdits} disabled={loading}>\n                    {loading ? 'Saving...' : 'Save Changes'}\n                  </button>\n                )}\n              </div>\n              \n              {/* Admin login modal */}\n              {adminPrompt && (\n                <div style={{\n                  position: 'fixed', left: 0, top: 0, width: '100vw', height: '100vh', background: 'rgba(0,0,0,0.25)', zIndex: 1000,\n                  display: 'flex', alignItems: 'center', justifyContent: 'center'\n                }}>\n                  <div style={{ background: '#fff', borderRadius: 8, padding: 32, minWidth: 320, boxShadow: '0 2px 16px #0002' }}>\n                    <h3 style={{marginBottom:16}}>Admin Login Required</h3>\n                    <div style={{marginBottom:12}}>\n                      <label style={{fontWeight:500}}>Admin ID:</label><br/>\n                      <input type=\"text\" value={adminId} onChange={e => setAdminId(e.target.value)} style={{width:'100%',padding:6,marginTop:2}} autoFocus />\n                    </div>\n                    <div style={{marginBottom:12}}>\n                      <label style={{fontWeight:500}}>Password:</label><br/>\n                      <input type=\"password\" value={adminPass} onChange={e => setAdminPass(e.target.value)} style={{width:'100%',padding:6,marginTop:2}} />\n                    </div>\n                    {adminError && <div style={{color:'red',marginBottom:10}}>{adminError}</div>}\n                    <div style={{display:'flex',gap:10,justifyContent:'flex-end'}}>\n                      <button className=\"btn-secondary\" onClick={() => { setAdminPrompt(false); setAdminId(''); setAdminPass(''); setAdminError(''); }}>Cancel</button>\n                      <button className=\"btn-primary\" onClick={() => {\n                        if (adminId === ADMIN_ID && adminPass === ADMIN_PASS) {\n                          setEditMode(true);\n                          setAdminPrompt(false);\n                          setAdminId('');\n                          setAdminPass('');\n                          setAdminError('');\n                        } else {\n                          setAdminError('Invalid admin ID or password');\n                        }\n                      }}>Login</button>\n                    </div>\n                  </div>\n                </div>\n              )}\n              \n              {/* Team selection dropdown */}\n              {teams.length > 0 && (\n                <>\n                  <div style={{ marginBottom: 18 }}>\n                    <label htmlFor=\"teamSelect\" style={{ marginRight: 8, fontWeight: 500 }}>Choose Team:</label>\n                    <select\n                      id=\"teamSelect\"\n                      value={selectedTeam}\n                      onChange={e => setSelectedTeam(e.target.value)}\n                      style={{ minWidth: 180, marginRight: 10 }}\n                    >\n                      <option value=\"\">-- All Teams --</option>\n                      {teams.map((team, idx) => (\n                        <option key={team.id || idx} value={team.name}>{team.name}</option>\n                      ))}\n                    </select>\n                    {selectedTeam && (\n                      <button className=\"btn-secondary\" style={{ padding: '2px 10px', fontSize: '0.95em' }} onClick={() => setSelectedTeam('')}>\n                        Clear\n                      </button>\n                    )}\n                  </div>\n                  \n                  <div className=\"teams-table-container\">\n                    <table className=\"table table-bordered table-hover table-striped bg-white\">\n                      <thead className=\"table-dark\">\n                        <tr>\n                          {teams\n                            .filter(team => !selectedTeam || team.name === selectedTeam)\n                            .map((team, idx, arr) => (\n                              <th\n                                key={team.id || idx}\n                                style={{\n                                  borderRight: idx !== arr.length - 1 ? '3px solid #333' : undefined,\n                                  borderLeft: idx === 0 ? '3px solid #333' : undefined,\n                                  textAlign: 'center',\n                                }}\n                              >\n                                {team.name}\n                                <div style={{fontWeight:400, fontSize:'0.95em'}}>\n                                  ₹{team.budget?.toLocaleString() || 0} left\n                                </div>\n                              </th>\n                            ))}\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {(() => {\n                          // Get filtered teams\n                          const filteredTeams = teams.filter(team => !selectedTeam || team.name === selectedTeam);\n                          if (filteredTeams.length === 0) {\n                            return (\n                              <tr><td colSpan={1} style={{textAlign:'center', color:'#888'}}>No teams</td></tr>\n                            );\n                          }\n                          // Find max players in any team\n                          const maxPlayers = Math.max(...filteredTeams.map(t => (t.players ? t.players.length : 0)), 0);\n                          if (maxPlayers === 0) {\n                            return (\n                              <tr>\n                                {filteredTeams.map((team, idx) => (\n                                  <td key={team.id || idx} style={{color:'#888', textAlign:'center'}}>No players sold</td>\n                                ))}\n                              </tr>\n                            );\n                          }\n                          // Render rows for each player index\n                          return Array.from({ length: maxPlayers }).map((_, rowIdx) => (\n                            <tr key={rowIdx}>\n                              {filteredTeams.map((team, teamIdx, arr) => {\n                                const player = team.players && team.players[rowIdx];\n                                const borderStyle = {\n                                  borderRight: teamIdx !== arr.length - 1 ? '3px solid #333' : undefined,\n                                  borderLeft: teamIdx === 0 ? '3px solid #333' : undefined,\n                                  textAlign: 'center',\n                                };\n                                if (!player) return <td key={team.id + '_' + rowIdx} style={borderStyle}></td>;\n                                return (\n                                  <td key={team.id + '_' + rowIdx} style={borderStyle}>\n                                    {editMode ? (\n                                      <>\n                                        <input\n                                          type=\"text\"\n                                          value={player.name}\n                                          onChange={e => handlePlayerNameChange(teams.indexOf(team), rowIdx, e.target.value)}\n                                          style={{ width: 120, padding: '2px 4px', marginBottom: 4 }}\n                                        /><br/>\n                                        <input\n                                          type=\"number\"\n                                          min=\"0\"\n                                          value={player.soldPrice ?? player.basePrice ?? ''}\n                                          onChange={e => handlePlayerPriceChange(teams.indexOf(team), rowIdx, e.target.value)}\n                                          style={{ width: 90, padding: '2px 4px' }}\n                                        />\n                                      </>\n                                    ) : (\n                                      <>\n                                        <div style={{fontWeight:500}}>{player.name}</div>\n                                        <div style={{color:'#444', fontSize:'0.9em'}}>\n                                          {player.role && <span style={{color:'#666'}}>({player.role})</span>}\n                                        </div>\n                                        <div style={{color:'#444'}}>\n                                          ₹{player.soldPrice?.toLocaleString?.() || player.basePrice?.toLocaleString?.() || ''}\n                                        </div>\n                                      </>\n                                    )}\n                                  </td>\n                                );\n                              })}\n                            </tr>\n                          ));\n                        })()}\n                      </tbody>\n                    </table>\n                  </div>\n                </>\n              )}\n              \n              {teams.length === 0 && !loading && (\n                <div style={{ textAlign: 'center', padding: '2em', color: '#666' }}>\n                  <p>No teams found for this tournament.</p>\n                  <p>Make sure you have created teams and conducted an auction for this tournament.</p>\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Squads; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}